<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Frontend/css/test.css">
    <link rel="stylesheet" href="../Frontend/css/Kurspopup.css">

    <title>Document</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;800&display=swap" rel="stylesheet">


</head>
<body>
     <div id = hero><!-- wrapper -->

        <div id = headline>
            <h1>Rudbecks Kursguide</h1>
            <p id="herokid">Välkommen till Rudbecks egna kursguide. Hitta recensioner, omdömmen och svårighetsgrad.</p>
        </div>
        <!-- länker till andra sidor -->
        <div id="sida1"> <!--skriv en rescension sidan-->
            
            <i class="fa-regular fa-pen-to-square fa-2x"  style="color:rgba(241, 241, 241, 0.925);"></i> <!--icon-->
            <br>
            <li><a href="Skriv.html"> Skriv en recension</a></li>
            
            </div>
            <div id="sida2"> <!--Information sida-->
            
            <i class="fa-solid fa-circle-info fa-2x"  style="color: rgba(241, 241, 241, 0.925);" size = ></i> <!--icon-->
            <br>
            <li><a href="Info.html">Information</a></li>
            
            </div>
            <div id="sida3"><!--Lista med alla kurser-->
            
            <i class="fa-solid fa-list fa-2x"  style="color: rgba(241, 241, 241, 0.925);"></i> <!--icon-->
            <br>
            <li><a href="AllaKurser.html">Alla kurser</a></li>
            
            </div>
    </div>

<div id = sökdiv>
    <input type="text" id = search placeholder="Sök efter kurs...">
</div>





 <!--Tiles-->
    <div class="category-row"> <!--Matte-->
        <h2>Matematik</h2>
        <div class="course-scroll">
            <div class="course-card">
                <p class="course-title">Matematik 1a</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>
            
            <div class="course-card">
                <p class="course-title">Matematik 1b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 1c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Matematik 2b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Matematik 2c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 3b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 3c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 4</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 5</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>
            <!-- Add more course cards -->
        </div>
    </div>

    <div class="category-row">
        <h2>Naturvetenskapliga ämnen</h2>
        <div class="course-scroll">

            <div class="course-card">
                <p class="course-title">Kemi 1</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Kemi 2</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Fysik 1</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Fysik 2</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            
            <div class="course-card">
                <p class="course-title">Biologi 1</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>
            <div class="course-card">
                <p class="course-title">Biologi 2</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Naturkunskap 1a1 </p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Naturkunskap 1b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Naturkunskap 2</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <!-- Add more course cards -->
        </div>


        
    </div>
    
    <div class="category-row">
        <h2>Matematik</h2>
        <div class="course-scroll">
            <div class="course-card">
                <p class="course-title">Matematik 1a</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>
            
            <div class="course-card">
                <p class="course-title">Matematik 1b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 1c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Matematik 2b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>


            <div class="course-card">
                <p class="course-title">Matematik 2c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 3b</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 3c</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 4</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>

            <div class="course-card">
                <p class="course-title">Matematik 5</p>
                <p class="kurstext">Lorem ipsum dolor sit amet...</p>
            </div>
            <!-- Add more course cards -->
        </div>
    </div>


    <!-- Popup kursinfo -->
    <div id="overlay"></div>

    <div id="popupInfo" class = "form-popup">
        <!-- <i class="fa-solid fa-x"></i> -->
       
        <div class="action">
            <!-- info -->
            <div class = "info">
                <h2 id="KursinfoTitel">Matematik 1a</h2>
                <p class = "breadtext">Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci id eveniet in, officia iusto, exercitationem voluptatum minus expedita nisi et ut ipsam. Minima labore magni rerum non unde nostrum quas.</p>
            </div>

            <!-- reviews -->
            <div class = reviews>
                <div class = "review">
                    <h4> Anonymous </h4>
                    <p>"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci id eveniet in, officia iusto, exercitationem voluptatum minus expedita nisi et ut ipsam. Minima labore magni rerum non unde nostrum quas."</p>
                </div>

                <div class = "review">
                    <h4> Anonymous </h4>
                    <p>"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci id eveniet in, officia iusto, exercitationem voluptatum minus expedita nisi et ut ipsam. Minima labore magni rerum non unde nostrum quas."</p>
                </div>
                
                <div class = "bottomreview">
                    <h4> Anonymous </h4>
                    <p>"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci id eveniet in, officia iusto, exercitationem voluptatum minus expedita nisi et ut ipsam. Minima labore magni rerum non unde nostrum quas."</p>
                </div>

            </div>
        </div>
        <!-- <button type="button" id="läggupp" onclick="closeForm()">Stäng</button> knapp för att stänga av -->
    </div>
    
 <!-- Skroll knappar-->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scrollContainers = document.querySelectorAll('.course-scroll');
            const isMobileMq = window.matchMedia('(max-width: 768px)');

            scrollContainers.forEach(container => {
                // On mobile allow native horizontal scrolling and wheel-to-horizontal translation
                if (isMobileMq.matches) {
                    container.addEventListener('wheel', (e) => {
                        if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
                            e.preventDefault();
                            container.scrollLeft += e.deltaY;
                        }
                    }, { passive: false });
                }

                // Create scroll buttons (desktop only). Buttons are hidden via CSS on mobile.

                const leftBtn = document.createElement('button');
                leftBtn.className = 'scroll-btn left';
                leftBtn.type = 'button';
                leftBtn.setAttribute('aria-label', 'Scroll left');
                leftBtn.innerHTML = '&#9664;';

                const rightBtn = document.createElement('button');
                rightBtn.className = 'scroll-btn right';
                rightBtn.type = 'button';
                rightBtn.setAttribute('aria-label', 'Scroll right');
                rightBtn.innerHTML = '&#9654;';

                // Append buttons to the category-row so they stay fixed to the frame
                const parentRow = container.closest('.category-row');
                if (parentRow) {
                    parentRow.appendChild(leftBtn);
                    parentRow.appendChild(rightBtn);
                }

                // Function to update visibility/disabled state of buttons
                const updateButtons = () => {
                    const scrollable = container.scrollWidth > container.clientWidth + 1;
                    if (!scrollable) {
                        leftBtn.classList.add('hidden');
                        rightBtn.classList.add('hidden');
                        return;
                    } else {
                        leftBtn.classList.remove('hidden');
                        rightBtn.classList.remove('hidden');
                    }

                    // disable left if at start
                    if (container.scrollLeft <= 1) leftBtn.disabled = true; else leftBtn.disabled = false;

                    // disable right if at end
                    if (container.scrollLeft + container.clientWidth >= container.scrollWidth - 1) rightBtn.disabled = true; else rightBtn.disabled = false;
                };

                // initial update
                updateButtons();

                // update on scroll/resize
                container.addEventListener('scroll', updateButtons);
                window.addEventListener('resize', updateButtons);

                // Amount to scroll per click (80% of container width)
                const scrollAmount = () => Math.max(200, Math.floor(container.clientWidth * 0.8));

                leftBtn.addEventListener('click', () => {
                    container.scrollBy({ left: -scrollAmount(), behavior: 'smooth' });
                    setTimeout(updateButtons, 220);
                });
                rightBtn.addEventListener('click', () => {
                    container.scrollBy({ left: scrollAmount(), behavior: 'smooth' });
                    setTimeout(updateButtons, 220);
                });

                // Desktop drag-to-scroll using pointer events
                let isDown = false;
                let startX;
                let scrollLeft;

                container.addEventListener('pointerdown', (e) => {
                    if (isMobileMq.matches) return; // don't intercept touch on mobile
                    if (e.target.closest('.course-title')) return; // don't drag if clicking title
                    isDown = true;
                    container.classList.add('dragging');
                    startX = e.pageX - container.offsetLeft;
                    scrollLeft = container.scrollLeft;
                    container.setPointerCapture(e.pointerId);
                });

                container.addEventListener('pointermove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    const x = e.pageX - container.offsetLeft;
                    const walk = x - startX;
                    container.scrollLeft = scrollLeft - walk;
                });

                const stopDrag = (e) => {
                    isDown = false;
                    container.classList.remove('dragging');
                    try { if (e && e.pointerId) container.releasePointerCapture(e.pointerId); } catch (err) {}
                };

                container.addEventListener('pointerup', stopDrag);
                container.addEventListener('pointercancel', stopDrag);
                container.addEventListener('pointerleave', stopDrag);
            });
        });
    </script>



 <!-- Kursbutton -->
 <script>
        // Open the popup form when a course title is clicked
        document.querySelectorAll('.course-title').forEach(title => {
            title.addEventListener('click', () => {
                const popup = document.getElementById('popupInfo');
                const overlay = document.getElementById('overlay');
                popup.classList.add('active');
                overlay.classList.add('active');
            });
        });

        // Function to close the popup
        function closeForm() {
            const popup = document.getElementById('popupInfo');
            const overlay = document.getElementById('overlay');
            popup.classList.remove('active');
            overlay.classList.remove('active');
        }

        document.getElementById('overlay').addEventListener('click', () => {
                closeForm();
        });
</script>

</body>
</html>